<include file="public@header"/>
<script src="__STATIC__/editselect/jQuery/jquery-2.1.1.min.js"></script>
<link href="__STATIC__/editselect/bootstrap/bootstrap.min.css" rel="stylesheet" />
<script src="__STATIC__/editselect/bootstrap/bootstrap.js"></script>
<link href="__STATIC__/editselect/jquery.editable-select/jquery.editable-select.min.css" rel="stylesheet" />
<script src="__STATIC__/editselect/jquery.editable-select/jquery.editable-select.min.js"></script>
</head>
<body>
	<div class="wrap">
		请选择或输入（小时）:
			<select class="form-control" id="editable-select" name="banlong" style="width: 100%;float:left;" >
				<if condition="$baninfo['banlong'] lt 0">
					<option value=''></option>
				</if>
                
                <volist name="banlong" id="v">
                    <option value="{$key}" data-id="{$v}" <if condition="$baninfo['banlong'] eq $v">selected</if> >{$v}</option>
                </volist>
            </select>
	</div>
	
	<script type="text/javascript">
	var baninfo='{$baninfo}';
	$(function(){
	
		$('#editable-select').editableSelect({
                effects: 'slide',//点击的时候，下拉框的过渡效果  有default，slide，fade三个值，默认是default
                filter: true,//选择option以后，是否过滤  默认 true
                duration: 'fast',//下拉选项框展示的过度动画速度
                onSelect: function (obj) {
                    console.log("下拉框选项被选中");
                    var id = $(obj).attr('data-id');//获取当前数据的id
					
					$("#_selectBanval",window.parent.document).val($(obj).text());
                },
                onShow: function() {
                    console.log("下拉框显示");
					$("#_selectBanval",window.parent.document).val($('#editable-select').val());
                },
            });
	});
	</script>

</body>
</html>